export { future as theme } from 'mdx-deck/themes'

import { Appear } from 'mdx-deck'

import { CodeSurfer } from 'mdx-deck-code-surfer'

# NPM

---

<CodeSurfer
  title="package.json"
  code={require("raw-loader!./snippets/npm/packageJson.jsx")}
  steps={[
    { lines: [2], notes: "Package name" },
    { lines: [3], notes: "Versão seguindo SemVer" },
    { lines: [4], notes: "Descrição" },
    { lines: [5], notes: "Arquivo principal do package, que será chamado quando der require" },
    { range: [6, 9], notes: "NPM Scripts" },
    { range: [10, 12] },
    { range: [13, 15], notes: "Dependências que não vão para o bundle da aplicação (chore)" },
    { range: [16, 19], notes: "Dependências da aplicação" },
  ]}
/>

---

### npm prune

<Appear>
    <p>
        Remove "extraneous dependencies" do projeto
    </p>
</Appear>

---

### package-lock.json

<Appear>
    <p>
        É gerado automaticamente quando qualquer operação que envolve a pasta node_modules é executada
    </p>
    <p>
        Organiza a árvore de dependências da aplicação
    </p>
    <p>
        Contém checksums de cada package na versão especificada
    </p>
    <p>
        Elimina o uso do npm prune
    </p>
</Appear>

---

    npm init -y
    npm install --save isarray

---

<CodeSurfer
  title="package-lock.json"
  code={require("raw-loader!./snippets/npm/packageLockJson.jsx")}
  steps={[
    { range: [2, 5] },
    { range: [6, 12] }
  ]}
/>

---

### Criando um package

    npm init -y
    npm login
    npm i --save openweather-apis

---

<CodeSurfer
  title="Criando um package - index.js"
  code={require("raw-loader!./snippets/npm/weather.jsx")}
  steps={[
    { lines: [1]},
    { range: [2, 3]},
    { range: [5, 7] },
    { range: [9, 11] },
    { range: [13, 22] }
  ]}
/>

---

<CodeSurfer
  title="Criando um package - package.json"
  code={require("raw-loader!./snippets/npm/weatherPackageJson.jsx")}
  steps={[
    { range: [6, 9]}
  ]}
/>

---

### Publicando package

    npm publish

---

Outros comandos

    npm ls
    npm issues
    npm version

---

### Referências
* Semantic Versioning: https://semver.org/
* Prune: https://docs.npmjs.com/cli/prune
